<!DOCTYPE html>
<html lang="gu">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Location Tracker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background: #f7f9fc;
      color: #222;
      padding: 20px;
    }
    #map {
      width: 100%;
      height: 500px;
      border-radius: 10px;
      margin-top: 15px;
    }
    #geo-help {
      display: none;
      background: #fff3cd;
      border: 1px solid #ffeeba;
      border-radius: 10px;
      padding: 15px;
      margin: 10px auto;
      max-width: 600px;
      color: #856404;
    }
    button {
      background: #007bff;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover { background: #0056b3; }
  </style>
</head>
<body>
  <h2>ЁЯУН My Location Tracker</h2>
  <p>ркдркорк╛рк░рлБркВ location ркЬрлБркУ ркЕркирлЗ ркдркорк╛рк░рк╛ рккрк░рк┐рк╡рк╛рк░ рк╕рк╛ркерлЗ рк╢рлЗрк░ ркХрк░рлЛ.</p>

  <div id="geo-help">
    <strong>Permission ркЬрк░рлВрк░рлА ркЫрлЗ</strong>
    <p id="geo-msg">ркХрлГрккрк╛ ркХрк░рлАркирлЗ ркдркорк╛рк░рк╛ browser ркорк╛ркВ "Allow location" рккрк╕ркВркж ркХрк░рлЛ.</p>
    <button onclick="window.location.reload()">рклрк░рлА рккрлНрк░ркпрк╛рк╕ ркХрк░рлЛ</button>
    <button onclick="showQuickSteps()">ркХрлЗрк╡рлА рк░рлАркдрлЗ Allow ркХрк░рк╡рлБркВ?</button>
    <div id="geo-steps" style="display:none;margin-top:10px;">
      <p><strong>Android Chrome:</strong> ЁЯФТ Lock icon тЖТ Site settings тЖТ Location тЖТ Allow</p>
      <p><strong>iPhone Safari:</strong> тЪЩя╕П Settings тЖТ Privacy тЖТ Location Services тЖТ Safari Websites тЖТ While Using</p>
      <p><strong>Desktop Chrome:</strong> ЁЯФТ Lock icon тЖТ Site settings тЖТ Location тЖТ Allow</p>
    </div>
  </div>

  <div id="map"></div>

  <script>
    function showQuickSteps(){
      document.getElementById('geo-steps').style.display='block';
    }

    function initMap(lat, lon){
      const mapDiv = document.getElementById('map');
      const map = new google.maps.Map(mapDiv, {
        center: { lat: lat, lng: lon },
        zoom: 15
      });
      new google.maps.Marker({
        position: { lat: lat, lng: lon },
        map: map,
        title: "Your Location ЁЯУН"
      });
    }

    function tryGetLocation(){
      if(!navigator.geolocation){
        alert('Geolocation not supported in this browser.');
        return;
      }
      navigator.geolocation.getCurrentPosition(
        pos => {
          document.getElementById('geo-help').style.display='none';
          const lat = pos.coords.latitude;
          const lon = pos.coords.longitude;
          initMap(lat, lon);
        },
        err => {
          console.warn('Location error:', err);
          if(err.code === err.PERMISSION_DENIED){
            document.getElementById('geo-msg').innerText =
              'ркдркорлЗ ркЖ рк╕рк╛ркЗркЯ ркорк╛ркЯрлЗ Location ркмрлНрк▓рлЛркХ ркХрк░рлА ркжрлАркзрлБркВ ркЫрлЗ. ркХрлГрккрк╛ ркХрк░рлАркирлЗ "Allow" ркХрк░рлЛ.';
            document.getElementById('geo-help').style.display='block';
          } else {
            document.getElementById('geo-msg').innerText = 'Error: ' + err.message;
            document.getElementById('geo-help').style.display='block';
          }
        }
      );
    }
    tryGetLocation();
  </script>

  <!-- тЬЕ ркдркорк╛рк░рк╛ API Key ркЕрк╣рлАркВ ркирк╛ркЦрлЛ -->
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCQ79Ko-HXM4Tt5S3ZW1s5naMVdnlHo83c"></script>
</body>
</html>
